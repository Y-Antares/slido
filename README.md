# 实时问答互动平台：live-poll

## 项目构想 (Project Concept)

在授课或分享会中，传统的举手提问或课后收集问题的方式，往往效率不高且互动性较弱。本项目的核心思路是创建一个轻量、易用的Web应用，来改善这一体验。

目标是让讲师能够轻松为每一次课程或活动创建一个独立的问答“场次”，并将一个简洁的提问页面通过二维码分享给观众。观众可以随时通过手机提交问题，而这些问题会实时、动态地展示在讲师的投影屏幕上，形成一个可视化的互动墙。整个过程无需安装任何App，打开网页即可使用。

## 核心功能 (Core Features)

- **多场次管理**：通过仪表盘主页创建和管理多场独立的问答活动。
- **实时互动墙**：学生端提交的问题通过WebSocket被实时推送到主持人的展示页面。
- **动态页面**：为每个场次生成唯一的URL和二维码，实现数据隔离。
- **后台管理**：提供受密码保护的后台，用于回顾、筛选和导出特定时间段的问题数据为CSV文件。
- **数据持久化**：所有活动场次和问题数据均存储在MongoDB云数据库中。

## 项目构造 (Project Structure)

该项目采用前后端分离的模式，通过RESTful API和WebSocket进行通信，主要由以下几个部分构成：

### 1. 后端 (Backend - Node.js & Express)

作为整个应用的核心，后端承担了三大职责：

- **静态文件服务**: 负责托管前端的所有HTML, CSS, JS文件。
- **API服务**: 提供一套RESTful API接口，用于处理如创建新场次、获取场次列表、提交新问题、按时间筛选问题等业务逻辑。
- **WebSocket服务**: 建立和管理WebSocket连接，实现服务器与前端展示页的实时双向通信。通过“房间”（Room）的逻辑，确保每个场次的问题只被广播到对应的展示页，实现多场次并行互动。

### 2. 前端 (Frontend - Vanilla HTML/CSS/JS)

前端由三个核心页面组成，实现了职责分离：

- `dashboard.html`: **仪表盘页**。这是讲师的管理后台，受密码保护。在这里可以创建新场次，并查看所有历史场次的列表和入口链接。
- `presenter.html`: **主持人展示页**。这是投影到大屏幕上的页面，以卡片墙的形式实时展示观众提交的问题。
- `client.html`: **参与者提问页**。一个极其简洁的移动端页面，供观众扫描二维码后输入姓名和问题并提交。

### 3. 数据库 (Database - MongoDB)

负责应用的全部数据持久化工作。主要设计了两个数据集合（Collections）：

- `sessions`: 存储每一个活动场次的信息，包括场次名称、唯一的6位分享代码 (`code`) 和创建时间。
- `questions`: 存储用户提交的每一个问题，并通过 `sessionId` 字段与 `sessions` 集合相关联，确保每个问题都正确归属于其活动场次。

## 技术栈 (Tech Stack)

- **后端**: Node.js, Express.js
- **数据库**: MongoDB, Mongoose
- **实时通信**: WebSocket (`ws` 库)
- **前端**: HTML, CSS, JavaScript (原生)
- **部署**: Render
- **辅助工具**: `nanoid`, `express-basic-auth`